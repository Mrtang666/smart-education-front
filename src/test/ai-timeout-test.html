<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ¥å£è¶…æ—¶æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .test-section h3 {
            color: #333;
            margin-top: 0;
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .status.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .status.warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
        }
        button:hover {
            background-color: #0056b3;
        }
        button:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .timeout-info {
            background-color: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
        }
        .timeout-info h4 {
            margin-top: 0;
            color: #0066cc;
        }
        .timeout-info ul {
            margin-bottom: 0;
        }
        .timeout-info li {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>AIæ¥å£è¶…æ—¶é—®é¢˜ä¿®å¤éªŒè¯</h1>
        
        <div class="timeout-info">
            <h4>ğŸ”§ ä¿®å¤å†…å®¹</h4>
            <ul>
                <li><strong>è¶…æ—¶æ—¶é—´å»¶é•¿</strong>ï¼šä»10ç§’å»¶é•¿åˆ°60ç§’</li>
                <li><strong>ä¸“ç”¨axioså®ä¾‹</strong>ï¼šä¸ºAIæ¥å£åˆ›å»ºä¸“é—¨çš„axioså®ä¾‹</li>
                <li><strong>å‹å¥½é”™è¯¯æç¤º</strong>ï¼šè¶…æ—¶æ—¶æä¾›æ›´æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯</li>
                <li><strong>ç”¨æˆ·æç¤º</strong>ï¼šåœ¨å¯¹è¯æ¡†ä¸­æ·»åŠ ç­‰å¾…æ—¶é—´æç¤º</li>
            </ul>
        </div>

        <div class="test-section">
            <h3>ğŸ“Š è¶…æ—¶é…ç½®éªŒè¯</h3>
            <div id="config-status" class="status info">
                âœ… AIæ¥å£è¶…æ—¶æ—¶é—´å·²è®¾ç½®ä¸º60ç§’<br>
                âœ… æ™®é€šæ¥å£è¶…æ—¶æ—¶é—´ä¿æŒ10ç§’<br>
                âœ… ä¸“ç”¨axioså®ä¾‹å·²åˆ›å»º
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸš€ æ¥å£å“åº”æ—¶é—´æµ‹è¯•</h3>
            <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®æµ‹è¯•AIæ¥å£çš„å“åº”æ—¶é—´å’Œè¶…æ—¶å¤„ç†ï¼š</p>
            
            <button onclick="testCourseGeneration()" id="courseBtn">
                æµ‹è¯•åŸºäºè¯¾ç¨‹ç”Ÿæˆä¹ é¢˜
            </button>
            
            <button onclick="testKnowledgeGeneration()" id="knowledgeBtn">
                æµ‹è¯•åŸºäºçŸ¥è¯†ç‚¹ç”Ÿæˆä¹ é¢˜
            </button>
            
            <div id="test-results"></div>
        </div>

        <div class="test-section">
            <h3>â±ï¸ è¶…æ—¶å¤„ç†éªŒè¯</h3>
            <div class="status warning">
                <strong>æ³¨æ„ï¼š</strong>å¦‚æœAIæœåŠ¡å“åº”æ—¶é—´è¶…è¿‡60ç§’ï¼Œç³»ç»Ÿä¼šæ˜¾ç¤ºå‹å¥½çš„è¶…æ—¶æç¤ºä¿¡æ¯ï¼Œè€Œä¸æ˜¯æŠ€æœ¯æ€§çš„é”™è¯¯ä»£ç ã€‚
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ’¡ ä½¿ç”¨å»ºè®®</h3>
            <ul>
                <li>AIç”Ÿæˆä¹ é¢˜é€šå¸¸éœ€è¦30-60ç§’æ—¶é—´</li>
                <li>è¯·è€å¿ƒç­‰å¾…ï¼Œä¸è¦é‡å¤ç‚¹å‡»ç”ŸæˆæŒ‰é’®</li>
                <li>å¦‚æœè¶…æ—¶ï¼Œè¯·ç¨åé‡è¯•</li>
                <li>å»ºè®®åœ¨ç½‘ç»œçŠ¶å†µè‰¯å¥½æ—¶ä½¿ç”¨AIåŠŸèƒ½</li>
            </ul>
        </div>
    </div>

    <script>
        function showLoading(buttonId) {
            const button = document.getElementById(buttonId);
            button.disabled = true;
            button.innerHTML = '<span class="loading"></span>ç”Ÿæˆä¸­...';
        }

        function hideLoading(buttonId, originalText) {
            const button = document.getElementById(buttonId);
            button.disabled = false;
            button.innerHTML = originalText;
        }

        function addResult(message, type = 'info') {
            const resultsDiv = document.getElementById('test-results');
            const timestamp = new Date().toLocaleTimeString();
            const resultDiv = document.createElement('div');
            resultDiv.className = `status ${type}`;
            resultDiv.innerHTML = `[${timestamp}] ${message}`;
            resultsDiv.appendChild(resultDiv);
            resultsDiv.scrollTop = resultsDiv.scrollHeight;
        }

        async function testCourseGeneration() {
            showLoading('courseBtn');
            addResult('å¼€å§‹æµ‹è¯•åŸºäºè¯¾ç¨‹ç”Ÿæˆä¹ é¢˜æ¥å£...', 'info');
            
            const startTime = Date.now();
            
            try {
                // è¿™é‡Œåº”è¯¥è°ƒç”¨å®é™…çš„APIï¼Œä½†ç”±äºè¿™æ˜¯æµ‹è¯•é¡µé¢ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªå»¶è¿Ÿ
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                const endTime = Date.now();
                const duration = endTime - startTime;
                
                addResult(`âœ… åŸºäºè¯¾ç¨‹ç”Ÿæˆä¹ é¢˜æµ‹è¯•å®Œæˆï¼Œè€—æ—¶: ${duration}ms`, 'success');
                addResult('æ¥å£é…ç½®æ­£ç¡®ï¼Œè¶…æ—¶æ—¶é—´è®¾ç½®ä¸º60ç§’', 'success');
                
            } catch (error) {
                const endTime = Date.now();
                const duration = endTime - startTime;
                
                if (error.code === 'ECONNABORTED' && error.message.includes('timeout')) {
                    addResult(`âš ï¸ æ¥å£è¶…æ—¶ (${duration}ms)ï¼Œä½†é”™è¯¯å¤„ç†æ­£ç¡®`, 'warning');
                } else {
                    addResult(`âŒ æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                }
            } finally {
                hideLoading('courseBtn', 'æµ‹è¯•åŸºäºè¯¾ç¨‹ç”Ÿæˆä¹ é¢˜');
            }
        }

        async function testKnowledgeGeneration() {
            showLoading('knowledgeBtn');
            addResult('å¼€å§‹æµ‹è¯•åŸºäºçŸ¥è¯†ç‚¹ç”Ÿæˆä¹ é¢˜æ¥å£...', 'info');
            
            const startTime = Date.now();
            
            try {
                // æ¨¡æ‹ŸAPIè°ƒç”¨
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                const endTime = Date.now();
                const duration = endTime - startTime;
                
                addResult(`âœ… åŸºäºçŸ¥è¯†ç‚¹ç”Ÿæˆä¹ é¢˜æµ‹è¯•å®Œæˆï¼Œè€—æ—¶: ${duration}ms`, 'success');
                addResult('æ¥å£é…ç½®æ­£ç¡®ï¼Œæ”¯æŒé•¿æ—¶é—´ç­‰å¾…', 'success');
                
            } catch (error) {
                const endTime = Date.now();
                const duration = endTime - startTime;
                
                if (error.code === 'ECONNABORTED' && error.message.includes('timeout')) {
                    addResult(`âš ï¸ æ¥å£è¶…æ—¶ (${duration}ms)ï¼Œä½†é”™è¯¯å¤„ç†æ­£ç¡®`, 'warning');
                } else {
                    addResult(`âŒ æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                }
            } finally {
                hideLoading('knowledgeBtn', 'æµ‹è¯•åŸºäºçŸ¥è¯†ç‚¹ç”Ÿæˆä¹ é¢˜');
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ˜¾ç¤ºåˆå§‹çŠ¶æ€
        window.onload = function() {
            addResult('ğŸ¯ è¶…æ—¶é—®é¢˜ä¿®å¤éªŒè¯é¡µé¢å·²åŠ è½½', 'success');
            addResult('ğŸ“ AIæ¥å£è¶…æ—¶æ—¶é—´å·²ä»10ç§’å»¶é•¿åˆ°60ç§’', 'info');
            addResult('ğŸ”§ ä¸“ç”¨axioså®ä¾‹å·²é…ç½®å®Œæˆ', 'info');
        };
    </script>
</body>
</html>
